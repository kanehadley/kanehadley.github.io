<!DOCTYPE HTML>
<html>
<head>
        <script src='vendor/d3.v3.min.js' charset='utf-8'></script>
        <script src='js/cipher/visualizer.js'></script>
        <script src='js/cipher/converter.js'></script>
</head>
<body>
        <textarea id='cipher-input' rows='4' cols='50'></textarea>
        <button id='encrypt' type='button'>Encrypt</button>
        <button id='decrypt' type='button'>Decrypt</button>
        <textarea id='cipher-output' rows='4' cols='50'></textarea>
        <textarea id='alphabet-shift' rows='1' cols='50'></textarea>
        <button id='add-cipher' type = 'button'>Add Cipher</button>
        <div id='cipher-div'></div>
        <script>
                document.addEventListener('DOMContentLoaded', function () {
                        var div = d3.select('#cipher-div').node();
                        d3.select('#encrypt').on('click', function () {
                                d3.select('#cipher-output').node().value = visualizer.encrypt(d3.select('#cipher-input').node().value);
                        });
                        d3.select('#decrypt').on('click', function () {
                                d3.select('#cipher-input').node().value = visualizer.decrypt(d3.select('#cipher-input').node().value);
                        });

                        d3.select('#add-cipher').on('click', function () {
                                visualizer.addCipher(parseInt(d3.select('#alphabet-shift').node().value));
                        });

                        var visualizer = new cipher.CipherVisualizer(div, {width: 600, height: 300});
                });
        </script>
</body>
</html>
