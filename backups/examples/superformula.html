<!DOCTYPE HTML>
<html>
<head>
  <script src='../vendor/jquery-2.1.4.min.js'></script>
  <script src='../vendor/d3.v3.min.js'></script>
  <script src='../js/superformula.js'></script>
</head>
<body>
  <div>
    <div>
      A</br>
      <input id='a-slider' type='range' min='0.0' max='1.0' step='0.01' value='1.0'>
      <input id='a-text' type='text' value='1.0'>
    </div>
    <div>
      B</br>
      <input id='b-slider' type='range' min='0.0' max='1.0' step='0.01' value='1.0'>
      <input id='b-text' type='text' value='1.0'>
    </div>
    <div>
      M</br>
      <input id='m-slider' type='range' min='0.0' max='20.0' step='0.01' value='10.0'>
      <input id='m-text' type='text' value='10.0'>
    </div>
    <div>
      N1</br>
      <input id='n1-slider' type='range' min='0.0' max='20.0' step='0.01' value='10.0'>
      <input id='n1-text' type='text' value='10.0'>
    </div>
    <div>
      N2</br>
      <input id='n2-slider' type='range' min='0.0' max='20.0' step='0.01' value='10.0'>
      <input id='n2-text' type='text' value='10.0'>
    </div>
    <div>
      N3</br>
      <input id='n3-slider' type='range' min='0.0' max='20.0' step='0.01' value='10.0'>
      <input id='n3-text' type='text' value='10.0'>
    </div>
    <div>
      Subdivisions</br>
      <input id='subdivisions-slider' type='range' min='1' max='400' step='1' value='100'>
      <input id='subdivisions-text' type='text' value='100'>
    </div>
  </div>

  <div id='superformula-plot'></div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var svg = d3.select('#superformula-plot').append('svg')
        .attr({
          'width': 500,
          'height': 500
        });
      svg.append('path');

      var config = {
        'width': 500,
        'height': 500,
      };

      $('#a-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#b-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#m-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#n1-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#n2-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#n3-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#subdivisions-slider').on('change mousemove', function () {
        updateTextInput();
        renderSuperformula(svg, config);
      });

      $('#a-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#b-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#m-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#n1-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#n2-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#n2-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      $('#subdivisions-text').on('change', function () {
        updateSliders();
        renderSuperformula(svg, config);
      });

      renderSuperformula(svg, config);
    });
  </script>
</body>
</html>
